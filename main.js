(()=>{"use strict";var e={608:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),c=n.n(a)()(o());c.push([e.id,'/* content area */\n#content {\n    grid-area: content;\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(25rem, 1fr));\n    grid-auto-rows: max-content;\n    gap: 1rem;\n}\n\n#content .project-card{\n    min-width: 15rem;\n    background-color: var(--primary);\n    border: 2px solid var(--text);\n    color: white;\n    height: fit-content;\n    border-radius: 1rem;\n    padding: 0rem 1rem 1rem;\n    position: relative;\n}\n\n#content .project-card .project-head h1{\n    display: inline;\n}\n\n#content .project-card .project-head button:nth-of-type(1){\n    position: absolute;\n    background-color: var(--primary);\n    border: none;\n    right: 15%;\n    top: 15%;\n}\n\n#content .project-card .project-head button:nth-of-type(2){\n    position: absolute;\n    background-color: var(--primary);\n    border: none;\n    right: 4%;\n    top: 15%;\n}\n\n#content .project-card .project-head button:nth-of-type(3){\n    display: block;\n}\n\n#content .project-card .tasks-list{\n    display: grid;\n}\n\n#content .project-card .tasks-list .task{\n    display: grid;\n    grid-template-columns: 0.2fr 2fr repeat(3, 0.4fr);\n    gap: 4px;\n    align-items: center;\n}\n\n#content .project-card .tasks-list .task input[type="checkbox"]{\n    align-self: flex-start;\n    margin-top: 10px;\n}\n\n#content .project-card .tasks-list .task .task-name-desc-date{\n    display: flex;\n    flex-flow: column wrap;\n}\n\n#content .project-card .tasks-list .task .task-name-desc-date h1{\n    font-size: 1.3rem;\n    font-weight: 600;\n}\n\n#content .project-card .tasks-list .task-name-desc-date p{\n    font-size: 1rem;\n    font-weight: 500;\n}\n\n#content .project-card .tasks-list .task-name-desc-date p.time{\n    display: block;\n    border: 1px solid var(--text);\n    border-radius: 1rem;\n    align-self: baseline;\n    padding: 4px;\n    font-size: 0.9rem;\n    background-color: whitesmoke;\n    color: black;\n}\n\n#content .project-card .tasks-list button{\n    background-color: var(--primary);\n    border: none;\n    width: fit-content;\n}\n\n#content .no-starred-tasks{\n    grid-column: 1/-1;\n    text-align: center;\n    width: 39ch;\n}\n\n/* update task dialog box */\n#content .edit-task{\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    row-gap: 0.7rem;\n    position: relative;\n}\n\n#content .edit-task label{\n    font-size: larger;\n}\n\n#content .edit-task h1{\n    grid-column: 1/-1;\n    text-align: center;\n    font-size: xx-large;\n}\n\n#content .edit-task button.cancel-dialog{\n    position: absolute;\n    right: -1px;\n    background-color: white;\n    border-radius: 50%;\n}\n\n#content .edit-task button.update-button{\n    grid-column: 1/-1;\n    justify-self: center;\n    padding: 0px 8px;\n    background-color:  rgb(55, 43, 216);\n    color: white;\n}\n\n/* Sorting and settings dialogs popups */\n#content .project-card dialog[open]{\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 4px;\n    position: absolute;\n    top: 15%;\n    right: -32%;\n}\n\n#content .project-card dialog[open] button{\n    outline: none;\n    border: none;\n    background-color: grey;\n    color: white;\n}',""]);const s=c},644:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),c=n.n(a)()(o());c.push([e.id,"*, *::before, *::after {\n    box-sizing: border-box;\n  }\n  * {\n    margin: 0;\n  }\n  body {\n    line-height: 1.5;\n    -webkit-font-smoothing: antialiased;\n  }\n  img, picture, video, canvas, svg {\n    display: block;\n    max-width: 100%;\n  }\n  input, button, textarea, select {\n    font: inherit;\n  }\n  p, h1, h2, h3, h4, h5, h6 {\n    overflow-wrap: break-word;\n  }\n  #root, #__next {\n    isolation: isolate;\n  }",""]);const s=c},64:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),c=n.n(a)()(o());c.push([e.id,"/* designing header */\nheader {\n    grid-area: header;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 2rem;\n    border-bottom: 1px solid var(--text);\n}\n\nheader .header-settings {\n    display: flex;\n    flex-direction: row-reverse;\n    gap: 2rem;\n}\n\nheader dialog[open]{\n    width: 38ch;\n    margin-top: 5px;\n    z-index: 10;\n    position: absolute;\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 1rem;\n}\n\nheader dialog[open] p{\n    text-align: justify;\n}\n",""]);const s=c},193:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),c=n.n(a)()(o());c.push([e.id,'/* Default Themes */\n:root {\n    color-scheme: light dark;\n\n    --text:light-dark(#050316, #ebe9fc) ;\n    --background: light-dark(#fbfbfe,#010104);\n    --primary:light-dark(#2f27ce,#3a31d8) ;\n    --secondary: light-dark(#dddbff, #020024) ;\n    --accent: light-dark(#443dff, #0600c2) ;\n}\n\n.light {\n    color-scheme: light;\n}\n\n.dark {\n    color-scheme: dark;\n}\n\n/* basic layout */\nbody {\n    display: grid;\n    grid-template-rows: 4rem 1fr;\n    grid-template-columns: 15rem 1fr;\n    grid-template-areas:\n        "header header"\n        "nav content";\n    gap: 1rem;\n    min-height: 95vh;\n    background-color: var(--background);\n}\n\n::backdrop {\n    background-color: rgb(0, 0, 0, 0.8);\n}\n\ndialog[open]{\n    margin: auto;\n}',""]);const s=c},61:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),c=n.n(a)()(o());c.push([e.id,"/* designing navigation pane */\nnav {\n    grid-area: nav;\n    padding: 1rem;\n    display: grid;\n    grid-template-rows: 3rem 5rem 1fr;\n    gap: 1rem;\n    border-right: 2px solid var(--text);\n}\n\nnav .create-task button {\n    border-radius: 1rem;\n    padding: 0.5rem 2rem;\n    width: 100%;\n    font-weight: bolder;\n    letter-spacing: 1px;\n    font-size: large;\n    text-transform: uppercase;\n    background-color: var(--accent);\n    color: white;\n}\n\nnav .section-buttons {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n}\n\nnav .section-buttons button {\n    font-size: x-large;\n    text-align: left;\n    border: 0;\n    background-color: var(--background);\n}\n\nnav .lists-section {\n    display: grid;\n    grid-template-rows: 3rem min-content 3rem;\n}\n\nnav .list-dropdown {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n}\n\nnav .list-dropdown button {\n    border: 0;\n    background-color: var(--background);\n    margin-top: 3px;\n}\n\n.lists-section button {\n    justify-self: center;\n    align-self: center;\n}\n\nnav .projects {\n    display: grid;\n    grid-template-rows: 3rem;\n}\n\nnav .projects .project-options {\n    display: grid;\n    grid-template-columns: 0.2fr 1fr 0.3fr;\n    align-items: center;\n}\n\nnav .projects .project-options button {\n    border: 0;\n    background-color: var(--background);\n    width: 30px;\n    height: 30px;\n}\n\n/* add list button and its respective dialog box in navigation pane */\nbutton.add-new-list {\n    background-color: var(--primary);\n    font-size: medium;\n    width: 5rem;\n    color: white;\n}\n\nnav .add-new-list-dialog{\n    display: grid;\n    grid-template-rows: repeat(3, 1fr);\n    gap: 0.5rem;\n}\n\nnav .add-new-list-dialog label {\n    font-size: large;\n}\n\nnav .add-new-list-dialog .buttons {\n    display: flex;\n    gap: 8px;\n}\n\nnav .add-new-list-dialog .buttons button {\n    text-transform: uppercase;\n    width: 5rem;\n}\n\nnav .add-new-list-dialog .buttons button:first-child {\n    background-color: rgb(30, 78, 30);\n    color: white;\n}\n\n/* Add new task dialog box */\nnav .add-new-task-dialog{\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    row-gap: 0.7rem;\n    position: relative;\n}\n\nnav .add-new-task-dialog label{\n    font-size: larger;\n}\n\nnav .add-new-task-dialog h1{\n    grid-column: 1/-1;\n    text-align: center;\n    font-size: xx-large;\n}\n\nnav .add-new-task-dialog button.cancel-dialog{\n    position: absolute;\n    right: -1px;\n    background-color: white;\n    border-radius: 50%;\n}\n\nnav .add-new-task-dialog button.add-task-button{\n    grid-column: 1/-1;\n    justify-self: center;\n    padding: 0px 8px;\n    background-color:  rgb(30, 78, 30);\n    color: white;\n}",""]);const s=c},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(r)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(c[i]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&c[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},c=[],s=0;s<e.length;s++){var i=e[s],l=r.base?i[0]+r.base:i[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=n(u),m={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var h=o(m,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:h,references:1})}c.push(u)}return c}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var c=0;c<a.length;c++){var s=n(a[c]);t[s].references--}for(var i=r(e,o),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=i}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0;var r=n(72),o=n.n(r),a=n(825),c=n.n(a),s=n(659),i=n.n(s),l=n(56),d=n.n(l),u=n(540),p=n.n(u),m=n(113),h=n.n(m),g=n(644),f={};f.styleTagTransform=h(),f.setAttributes=d(),f.insert=i().bind(null,"head"),f.domAPI=c(),f.insertStyleElement=p(),o()(g.A,f),g.A&&g.A.locals&&g.A.locals;var b=n(193),v={};v.styleTagTransform=h(),v.setAttributes=d(),v.insert=i().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=p(),o()(b.A,v),b.A&&b.A.locals&&b.A.locals;var y=n(64),k={};k.styleTagTransform=h(),k.setAttributes=d(),k.insert=i().bind(null,"head"),k.domAPI=c(),k.insertStyleElement=p(),o()(y.A,k),y.A&&y.A.locals&&y.A.locals;var j=n(61),x={};x.styleTagTransform=h(),x.setAttributes=d(),x.insert=i().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=p(),o()(j.A,x),j.A&&j.A.locals&&j.A.locals;var E=n(608),C={};C.styleTagTransform=h(),C.setAttributes=d(),C.insert=i().bind(null,"head"),C.domAPI=c(),C.insertStyleElement=p(),o()(E.A,C),E.A&&E.A.locals&&E.A.locals;const w=n.p+"399719bf7d76bba5994e.svg";class T{_projectTitle;_tasks=[];_isShowProject=!0;_allStarredTasks=[];isCreationOrder;isStarredOrder;isDueDateOrder;constructor(e){this._projectTitle=e,this.isCreationOrder=!0,this.isStarredOrder=!1,this.isDueDateOrder=!1}get projectTitle(){return this._projectTitle}get isShowProject(){return this._isShowProject}get allTasks(){let e;if(this.isStarredOrder){let t=[...M.sortUnstarredFromStarred(this._tasks)];e=[...M.sortUncompletedToCompleted(t)]}else if(this.isDueDateOrder){let t=[],n=[];this._tasks.forEach((e=>{e.hasDate()?t.push(e):n.push(e)}));let r=[...M.sortDueDates(t),...n];e=[...M.sortUncompletedToCompleted(r)]}else e=M.sortUncompletedToCompleted(this._tasks);return e}getAllStarredTasks(){return this._allStarredTasks=this._tasks.filter((e=>1==e.starred)),this._allStarredTasks}addTaskToProject(e,t,n,r,o){let a=new I(e,t,n,r,o);this._tasks.push(a)}set projectTitle(e){this._projectTitle=e}set isShowProject(e){this._isShowProject=e}renameProject(e){this._projectTitle=e}setCreationOrder(){this.isCreationOrder=!0,this.isDueDateOrder=!1,this.isStarredOrder=!1}setStarredOrder(){this.isCreationOrder=!1,this.isDueDateOrder=!1,this.isStarredOrder=!0}setDueDateOrder(){this.isCreationOrder=!1,this.isDueDateOrder=!0,this.isStarredOrder=!1}deleteTaskFromProject(e){let t=this._tasks.findIndex((t=>t==e));this._tasks.splice(t,1)}deleteAllCompletedTasks(){const e=[];this._tasks.forEach((t=>{if(t.isCompleted){let n=this._tasks.findIndex((e=>e==t));e.push(n)}e.forEach((e=>{this._tasks.splice(e,1)}))}))}}Math.pow(10,8);const S=Symbol.for("constructDateFrom");function P(e,t){return"function"==typeof e?e(t):"object"==typeof e&&S in e?e[S](t):e instanceof Date?new e.constructor(t):new Date(t)}function A(e){return P(e,Date.now())}function D(e,t){if(t)return t(e);const n=Object.prototype.toString.call(e);return"object"==typeof e&&S in e?e[S](e):e instanceof Date||"object"==typeof e&&"[object Date]"===n?new e.constructor(+e):"number"==typeof e||"[object Number]"===n||"string"==typeof e||"[object String]"===n?new Date(e):new Date(NaN)}function L(e,t){const n=D(e,t?.in);return n.setHours(0,0,0,0),n}function N(e,t,n){const[r,o]=function(e,...t){const n=e||P.bind(null,t.find((e=>"object"==typeof e)));return t.map(n)}(n?.in,e,t);return+L(r)==+L(o)}function O(e,t,n){const r=D(e,n?.in);return isNaN(t)?P(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function q(e,t){return N(P(t?.in||e,e),function(e,t,n){return O(e,-t,n)}(A(t?.in||e),1))}function _(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+D(e)));var t}class I{title;description;rawTime;time;repeat;project;starred;completed;constructor(e,t,n,r,o){this.title=e,this.description=t||"",this.rawTime=n,this.time=new Date(n)||new Date,this.repeat=r||!1,this.project=o||"default",this.starred=!1,this.completed=!1}get taskName(){return this.title}get projectName(){return this.project}get dueTime(){let e;return e=function(e,t){return N(P(t?.in||e,e),A(t?.in||e))}(this.time)?"Today":function(e,t){return N(e,O(A(t?.in||e),1),t)}(this.time)?"Tommorrow":q(this.time)?"Yesterday":`${["January","February","March","April","May","June","July","August","September","October","November","December"][this.time.getMonth()]} ${this.time.getDate()}`,`${e} ${this.time.getHours()}:${this.time.getMinutes()}`}get isStarred(){return this.starred}get isCompleted(){return this.completed}hasDescription(){return""!=this.description}hasDate(){return!!_(this.time)}toggleStarred(){this.starred=0==this.starred}toggleCompleted(){this.completed=0==this.completed}}const M={sortUncompletedToCompleted:function(e){return e.sort(((e,t)=>0==e.completed&&0==t.completed||1==e.completed&&1==t.completed?0:1==e.completed?1:-1)),e},sortUnstarredFromStarred:function(e){let t=[...e];return t.sort(((e,t)=>0==e.starred&&0==t.starred||1==e.starred&&1==t.starred?0:1==e.starred?-1:1)),t},sortDueDates:function(e=[]){return e.sort(((e,t)=>function(e,t){const n=+D(e)-+D(t);return n<0?-1:n>0?1:n}(e.time,t.time))),e}};let F,z=new class{_projects=[new T("Default")];get allProjects(){return this._projects}addProject(e){this._projects.push(new T(e))}deleteProject(e){let t=this._projects.findIndex((t=>t.projectName==e));this._projects.splice(t,1)}};const U=Object.freeze(new class{constructor(){if(F)throw new Error("You can only create one instance");F=this}getInstance(){return this}getList(){return z}saveToLocal(){localStorage.setItem("all-todos",JSON.stringify(z))}}),H=new class{getAllProjects(){return U.getList().allProjects}getAllProjectTitles(){const e=[];for(let t of U.getList().allProjects){let n=t.projectTitle;e.push(n)}return e}isProjectNameAlreadyExists(e){return this.getAllProjectTitles().includes(e)}addToListOfProjects(e){U.getList().addProject(e)}addTaskToProject(e,t,n,r,o,a){let c=this.getAllProjects(),s=c.findIndex((t=>t.projectTitle==e));c[s].addTaskToProject(t,n,r,o,a)}getAllStarredTasksFromAllProjects(){let e=[];return this.getAllProjects().forEach((t=>{let n=t.getAllStarredTasks();e=e.concat(n)})),e}changeShowOrHideProjectCard(e,t){let n=this.getAllProjects(),r=n.findIndex((t=>t.projectTitle==e));n[r].isShowProject=t}getShowOrHideProjectCard(e){let t=this.getAllProjects(),n=t.findIndex((t=>t.projectTitle==e));return t[n].isShowProject}renameProject(e,t){let n=this.getAllProjects(),r=n.findIndex((t=>t==e));n[r].renameProject(t)}deleteAllCompletedTasks(e){let t=this.getAllProjects(),n=t.findIndex((t=>t==e));t[n].deleteAllCompletedTasks()}sortProjectTasksToCreationOrder(e){let t=this.getAllProjects(),n=t.findIndex((t=>t==e));t[n].setCreationOrder()}sortProjectTasksToStarredOrder(e){let t=this.getAllProjects(),n=t.findIndex((t=>t==e));t[n].setStarredOrder()}sortProjectTasksToDueDateOrder(e){let t=this.getAllProjects(),n=t.findIndex((t=>t==e));t[n].setDueDateOrder()}isAllCardsHidden(){return 0==this.getAllProjects().filter((e=>1==e.isShowProject)).length}deleteProjectFromList(e){U.getList().deleteProject(e)}deleteTaskFromProject(e){let t=this.getAllProjects(),n=t.findIndex((t=>t.projectTitle==e.projectName));t[n].deleteTaskFromProject(e)}},R=new class{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}notify(){this.observers.forEach((e=>e()))}},$=new class{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}notify(){this.observers.forEach((e=>e()))}},Y=new class{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}notify(){this.observers.forEach((e=>e()))}},B=new class{subscribeStorageToChanges(){R.subscribe(U.saveToLocal),$.subscribe(U.saveToLocal),Y.subscribe(U.saveToLocal)}getFromLocal(){localStorage.getItem("all-todos")&&(JSON.parse(localStorage.getItem("all-todos"))._projects.forEach((e=>{"Default"==e._projectTitle||H.addToListOfProjects(e._projectTitle),e._tasks.forEach((t=>{H.addTaskToProject(e._projectTitle,t.title,t.description,t.rawTime,t.repeat,t.project)}))})),$.notify(),Y.notify(),R.notify())}};function J(){const e=document.querySelector("nav").querySelector(".lists-section").querySelector(".projects");!function(){for(;0!=e.children.length;)e.firstChild.remove()}();for(let t of H.getAllProjectTitles()){const n=document.createElement("div");n.className="project-options";const r=document.createElement("input");r.type="checkbox",H.getShowOrHideProjectCard(t)&&(r.checked=!0);const o=document.createElement("p");o.textContent=t;const a=document.createElement("button"),c=document.createElement("img");c.src=w,a.appendChild(c),t==H.getAllProjectTitles().at(0)?(n.append(r,o),e.appendChild(n)):(n.append(r,o,a),e.appendChild(n)),r.addEventListener("click",(()=>{H.changeShowOrHideProjectCard(t,r.checked),Y.notify()})),a.addEventListener("click",(()=>{const e=document.querySelector("nav").querySelector(".section-buttons"),n=e.querySelector("#all-tasks"),r=e.querySelector("#starred-tasks");confirm("Do you want to delete this project ? \n (The deleted data cannot be retrieved )")&&(H.deleteProjectFromList(t),n.style.backgroundColor="var(--secondary)",r.style.backgroundColor="var(--background)",R.notify())}))}}R.subscribe(J);const X=n.p+"970e993ed130ae7fc6f9.svg",G=n.p+"54472ed83318b7f77f00.svg";function K(){const e=document.querySelector("nav").querySelector(".section-buttons"),t=e.querySelector("#all-tasks"),n=e.querySelector("#starred-tasks");t.style.backgroundColor="var(--secondary)",n.style.backgroundColor="var(--background)";const r=document.querySelector("#content");if(function(){for(;0!=r.children.length;)r.firstChild.remove()}(),H.isAllCardsHidden()){const o=document.createElement("h1");o.textContent="All Cards are Hidden, Please Select a project in Sidebar to See your Tasks.",o.style.textAlign="center",o.style.border="2px solid var(--text)",r.appendChild(o)}else for(let a of H.getAllProjects())if(a.isShowProject){const c=document.createElement("div");c.className="project-head";const s=document.createElement("div");s.className="project-card";const i=document.createElement("h1");i.textContent=a.projectTitle;const l=document.createElement("button");l.textContent="Add Task",l.addEventListener("click",(()=>{const e=document.querySelector("nav").querySelectorAll("dialog")[1];e.querySelector("select").value=a.projectTitle,e.showModal()}));const d=document.createElement("button"),u=document.createElement("img");u.src=G,d.appendChild(u),d.addEventListener("click",(()=>{b.show()}));const p=document.createElement("button"),m=document.createElement("img");m.src=X,p.appendChild(m),p.addEventListener("click",(()=>{x.show()})),c.append(i,d,p,l);const h=document.createElement("div");function g(){for(;0!=h.children.length;)h.firstChild.remove()}function f(){g();for(let e of a.allTasks)ee(e,h)}h.className="tasks-list",$.subscribe(f),f(),$.subscribe(f);const b=document.createElement("dialog"),v=document.createElement("button");v.textContent="Creation Order",v.addEventListener("click",(()=>{H.sortProjectTasksToCreationOrder(a),Y.notify(),b.close()}));const y=document.createElement("button");y.textContent="Starred",y.addEventListener("click",(()=>{H.sortProjectTasksToStarredOrder(a),Y.notify(),b.close()}));const k=document.createElement("button");k.textContent="Due Date",k.addEventListener("click",(()=>{H.sortProjectTasksToDueDateOrder(a),Y.notify(),b.close()}));const j=document.createElement("button");j.textContent="Cancel",j.style.backgroundColor="red",j.addEventListener("click",(()=>{b.close()})),b.append("Sort by",v,y,k,j);const x=document.createElement("dialog"),E=document.createElement("button");E.textContent="Rename",E.addEventListener("click",(()=>{let e=prompt("Enter New Project Name: ");e.length<=2?(alert("Project name should be atleast 3 characters long"),e=prompt("Enter New Project Name: ")):(H.renameProject(a,e),R.notify())}));const C=document.createElement("button");C.textContent="Delete All Completed Tasks",C.addEventListener("click",(()=>{H.deleteAllCompletedTasks(a),Y.notify()}));const w=document.createElement("button");w.textContent="Cancel",w.style.backgroundColor="red",w.addEventListener("click",(()=>{x.close()})),x.append(E,C,w),s.append(c,h,b,x),r.appendChild(s)}}function Q(){const e=document.querySelector("nav").querySelector(".section-buttons"),t=e.querySelector("#all-tasks");e.querySelector("#starred-tasks").style.backgroundColor="var(--secondary)",t.style.backgroundColor="var(--background)";const n=document.querySelector("#content");if(function(){for(;0!=n.children.length;)n.firstChild.remove()}(),0==H.getAllStarredTasksFromAllProjects().length){const r=document.createElement("div"),o=document.createElement("h1");o.textContent="No Starred Tasks. Click on Starred button in project tasks to add Starred Tasks.",r.className="no-starred-tasks",r.appendChild(o),n.appendChild(r)}else{const a=document.createElement("div");a.className="project-card";const c=document.createElement("div");c.className="project-head";const s=document.createElement("h1");s.textContent="Starred Tasks";const i=document.createElement("div");function l(){for(;0!=i.children.length;)i.firstChild.remove()}i.className="tasks-list",l();for(let d of H.getAllStarredTasksFromAllProjects()){function u(){ee(d,i)}u(),$.subscribe(u)}c.append(s),a.append(c,i),n.appendChild(a)}}R.subscribe(K),Y.subscribe(K),Y.notify(Q);const V=n.p+"5cde013fb8e866e52f9f.svg",W=n.p+"5364c37f1416fb9864c3.svg",Z=n.p+"d27e006f5cde26d740ee.svg";function ee(e,t){const n=document.createElement("div");n.className="task";const r=document.createElement("input");function o(){e.isCompleted?r.checked=!0:r.checked=!1}r.type="checkbox",o(),$.subscribe(o);const a=document.createElement("div");a.className="task-name-desc-date";const c=document.createElement("h1");c.textContent=e.title,1==e.isCompleted&&(c.style.textDecoration="line-through"),a.appendChild(c);const s=document.createElement("p");e.hasDescription()&&(s.textContent=e.description,a.appendChild(s));const i=document.createElement("p");i.className="time",e.hasDate()&&(i.textContent=e.dueTime,a.appendChild(i));const l=document.createElement("button"),d=document.createElement("img");d.src=Z,l.appendChild(d);const u=document.createElement("button"),p=document.createElement("img");0==e.isStarred?p.src=V:p.src=W,u.appendChild(p);const m=document.createElement("button"),h=document.createElement("img");h.src=w,m.appendChild(h),n.append(r,a,l,u,m),t.appendChild(n),u.addEventListener("click",(t=>{e.toggleStarred(),Y.notify()})),r.addEventListener("click",(t=>{e.toggleCompleted(),Y.notify()})),l.addEventListener("click",(()=>{!function(e){const t=document.querySelector("#content"),n=document.createElement("dialog"),r=document.createElement("h1");r.textContent="Update Task";const o=document.createElement("button");o.textContent="❌",o.className="cancel-dialog";const a=document.createElement("label");a.textContent="Title";const c=document.createElement("input");c.type="text",c.maxLength=20,c.minLength=2,c.required=!0,c.autofocus=!0,c.value=e.title;const s=document.createElement("label");s.textContent="Description";const i=document.createElement("input");i.type="text",i.maxLength=50,i.value=e.description;const l=document.createElement("label");l.textContent="Due Date";const d=document.createElement("input");d.type="datetime-local",d.value=e.rawTime;const u=document.createElement("label");u.textContent="Repeat (everyday)";const p=document.createElement("input");p.type="checkbox",p.checked=!!e.repeat;const m=document.createElement("label");m.textContent="Project Name";const h=document.createElement("select");h.id="project-list",function(){for(;0!=h.children.length;)h.firstChild.remove();for(let e of H.getAllProjectTitles()){const t=document.createElement("option");t.value=e,t.text=e,h.append(t)}}(),h.value=e.projectName;const g=document.createElement("button");g.textContent="Update Task",g.className="update-button";const f=document.createElement("div");f.className="edit-task",f.append(r,o,a,c,s,i,l,d,d,u,p,m,h,g),n.appendChild(f),t.appendChild(n),n.showModal(),o.addEventListener("click",(()=>{n.close()})),g.addEventListener("click",(()=>{e.title=c.value,e.description=i.value,e.time=new Date(d.value),e.repeat=p.checked,e.project=h.value,$.notify(),n.close()}))}(e)})),m.addEventListener("click",(()=>{H.deleteTaskFromProject(e),Y.notify()}))}!function(){const e=document.querySelector("header"),t=e.querySelector(".header-settings"),n=e.querySelector("svg.feather-sun"),r=t.querySelector("svg.feather-moon");n.remove(),r.remove(),window.matchMedia("(prefers-color-scheme:dark)").matches?t.appendChild(n):t.appendChild(r),n.addEventListener("click",(()=>{document.documentElement.style.colorScheme="light",n.remove(),t.appendChild(r)})),r.addEventListener("click",(()=>{document.documentElement.style.colorScheme="dark",r.remove(),t.appendChild(n)}))}(),J(),K(),function(){const e=document.querySelector("nav"),t=e.querySelector(".lists-section").querySelector("button.add-new-list"),n=document.createElement("dialog"),r=document.createElement("label");r.textContent="Enter New Project Name: ",r.for="new-project";const o=document.createElement("input");o.type="text",o.minLength=3,o.maxLength=20,o.id="new-project";const a=document.createElement("div");a.className="buttons";const c=document.createElement("button");c.textContent="Create";const s=document.createElement("button");s.textContent="Cancel";const i=document.createElement("div");i.className="add-new-list-dialog",a.append(c,s),i.append(r,o,a),n.appendChild(i),e.append(n),t.addEventListener("click",(()=>{n.showModal()})),s.addEventListener("click",(()=>{n.close()})),c.addEventListener("click",(()=>{if(o.value.length<=2)alert("Please Enter Project name");else if(H.isProjectNameAlreadyExists(o.value))alert("Project Name Already Exists. Try a new name.");else{let e=o.value;H.addToListOfProjects(e),n.close(),o.value="",R.notify()}}))}(),function(){const e=document.querySelector("nav"),t=e.querySelector(".create-task").querySelector("button"),n=document.createElement("dialog"),r=document.createElement("h1");r.textContent="Add New Task";const o=document.createElement("button");o.textContent="❌",o.className="cancel-dialog";const a=document.createElement("label");a.textContent="Title";const c=document.createElement("input");c.type="text",c.maxLength=20,c.minLength=2,c.required=!0,c.autofocus=!0;const s=document.createElement("label");s.textContent="Description";const i=document.createElement("input");i.type="text",i.maxLength=50;const l=document.createElement("label");l.textContent="Due Date";const d=document.createElement("input");d.type="datetime-local";const u=document.createElement("label");u.textContent="Repeat (everyday)";const p=document.createElement("input");p.type="checkbox";const m=document.createElement("label");m.textContent="Project Name";const h=document.createElement("select");function g(){for(;0!=h.children.length;)h.firstChild.remove();for(let e of H.getAllProjectTitles()){const t=document.createElement("option");t.value=e,t.text=e,h.append(t)}}h.id="project-list",g(),R.subscribe(g);const f=document.createElement("button");f.textContent="Add Task",f.className="add-task-button";const b=document.createElement("div");b.className="add-new-task-dialog",b.append(r,o,a,c,s,i,l,d,d,u,p,m,h,f),n.appendChild(b),e.appendChild(n),f.addEventListener("click",(()=>{c.value.length<3?(alert("Task name should have atleat 3 letters"),c.value=""):(H.addTaskToProject(h.value,c.value,i.value,d.value,p.checked,h.value),n.close(),c.value=i.value=d.value="",p.checked=!1,$.notify())})),t.addEventListener("click",(()=>{n.showModal()})),o.addEventListener("click",(()=>{n.close(),c.value=i.value=d.value="",p.checked=!1}))}(),function(){const e=document.querySelector("header").querySelector(".header-settings"),t=e.querySelector("svg.feather-help-circle"),n=document.createElement("dialog"),r=document.createElement("p");r.textContent="This is a mockup app of Google Tasks. In order to create and store tasks, use the Create Task Button.\n        You can add your tasks to your default project, Or you can create your own project by adding new list. Each task or todo will\n        be on its own project with its editing options. ";const o=document.createElement("button");o.textContent="close",n.append(r,o),e.appendChild(n),t.addEventListener("click",(()=>{const e=t.getBoundingClientRect();n.style.top=`${e.y+30}px`,n.style.left=e.x-250+"px",n.showModal()})),n.addEventListener("click",(e=>{const t=n.getBoundingClientRect();(e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom)&&n.close()})),o.addEventListener("click",(()=>{n.close()}))}(),function(){const e=document.querySelector("header").querySelector(".header-settings"),t=e.querySelector("svg.feather-user"),n=document.createElement("dialog"),r=document.createElement("h1");r.textContent="User Name 1";const o=document.createElement("button");o.textContent="Logout",o.style.backgroundColor="#DE2128",o.style.color="white";const a=document.createElement("button");a.textContent="close",n.append(r,o,a),e.appendChild(n),n.addEventListener("click",(e=>{const t=n.getBoundingClientRect();(e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom)&&n.close()})),t.addEventListener("click",(e=>{const r=t.getBoundingClientRect();n.style.top=`${r.y+30}px`,n.style.left=r.x-250+"px",n.showModal()})),a.addEventListener("click",(()=>{n.close()}))}(),B.subscribeStorageToChanges(),B.getFromLocal();const te=document.querySelector("nav").querySelector(".section-buttons"),ne=te.querySelector("#all-tasks"),re=te.querySelector("#starred-tasks");ne.style.backgroundColor="var(--secondary)",ne.addEventListener("click",(()=>{K()})),re.addEventListener("click",(()=>{Q()}))})();